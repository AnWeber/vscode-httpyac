{
  "scopeName": "source.http",
  "fileTypes": [
    "http",
    "rest"
  ],
  "keyEquivalent": "^~H",
  "name": "http",
  "patterns": [
    {
      "begin": "\\s*{{\\s*",
      "name": "http.request.body.javascript",
      "end": "\\s*}}\\s*",
      "beginCaptures": {
        "0": {
          "name": "comment.line.sharp.http"
        }
      },
      "endCaptures": {
        "0": {
          "name": "comment.line.sharp.http"
        }
      },
      "patterns": [
        {
          "include": "source.js"
        }
      ]
    },
    {
      "begin": "\\s*(?=(\\[|{[^{]))",
      "name": "http.request.body.json",
      "end": "^\\s*(\\#{3,}.*?)?\\s*$",
      "endCaptures": {
        "0": {
          "name": "comment.line.sharp.http"
        }
      },
      "patterns": [
        {
          "include": "source.json"
        }
      ]
    },
    {
      "begin": "^\\s*(?=<\\S)",
      "name": "http.request.body.xml",
      "end": "^\\s*(\\#{3,}.*?)?\\s*$",
      "endCaptures": {
        "0": {
          "name": "comment.line.sharp.http"
        }
      },
      "patterns": [
        {
          "include": "text.xml"
        }
      ]
    },
    {
      "begin": "\\s*(?=(query|mutation))",
      "name": "http.request.body.graphql",
      "end": "^\\s*(\\#{3,}.*?)?\\s*$",
      "endCaptures": {
        "0": {
          "name": "comment.line.sharp.http"
        }
      },
      "patterns": [
        {
          "include": "source.graphql"
        }
      ]
    },
    {
      "begin": "\\s*(?=(query|mutation))",
      "name": "http.request.body.graphql",
      "end": "^\\{\\s*$",
      "patterns": [
        {
          "include": "source.graphql"
        }
      ]
    },
    {
      "include": "#metadata"
    },
    {
      "include": "#comments"
    },
    {
      "captures": {
        "1": {
          "name": "keyword.operator.http"
        },
        "2": {
          "name": "variable.other.http"
        },
        "3": {
          "name": "string.other.http"
        }
      },
      "match": "^\\s*(\\?|&)([^=\\s]+)=(.*)$",
      "name": "http.query"
    },
    {
      "captures": {
        "1": {
          "name": "entity.name.tag.http"
        },
        "2": {
          "name": "keyword.other.http"
        },
        "3": {
          "name": "string.other.http"
        }
      },
      "match": "^([\\w\\-]+)\\s*(\\:)\\s*(.*?)\\s*$",
      "name": "http.headers"
    },
    {
      "include": "#request-line"
    },
    {
      "include": "#response-line"
    }
  ],
  "repository": {
    "metadata": {
      "patterns": [
        {
          "match": "^\\s*\\#{1,}\\s+(?:((@).*)\\s+([^\\s]+))$",
          "captures": {
            "1": {
              "name": "keyword.name.http"
            },
            "2": {
              "name": "punctuation.definition.block.tag.metadata"
            },
            "3": {
              "name": "entity.name.type.http"
            }
          },
          "name": "comment.line.sharp.http"
        }
      ]
    },
    "comments": {
      "patterns": [
        {
          "match": "^\\s*\\#{1,}.*$",
          "name": "comment.line.sharp.http"
        }
      ]
    },
    "request-line": {
      "captures": {
        "1": {
          "name": "keyword.control.http"
        },
        "2": {
          "name": "const.language.http"
        },
        "3": {
          "patterns": [
            {
              "include": "#protocol"
            }
          ]
        }
      },
      "match": "^(?:(GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS|CONNECT|TRACE)\\s+)?\\s*(.+?)(?:\\s+(HTTP\\/\\S+))?$",
      "name": "http.requestline"
    },
    "protocol": {
      "patterns": [
        {
          "captures": {
            "1": {
              "name": "keyword.other.http"
            },
            "2": {
              "name": "constant.numeric.http"
            }
          },
          "name": "http.version",
          "match": "(HTTP)\/(\\d+.\\d+)"
        }
      ]
    }
  }
}